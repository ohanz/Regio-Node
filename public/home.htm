<!DOCTYPE html>
<html>
<head><title>Home | Welcome, Hyper</title></head>
<body>
<h1>Welcome, Hyper!</h1>
<br />
<h1 id="username"></h1>
<p id="email"></p>
<div id="paras"></p>

<script>
const urlParams = new URLSearchParams(window.location.search);
const name = urlParams.get('name');
const email = urlParams.get('email');
document.getElementById('username').innerText = `Hye, ${name}!`;
document.getElementById('email').innerHTML = `Signed Email: <b>${email}</b>`;
document.getElementById('paras').innerHTML = `
 <span style="font-weight: bold;">Find more in coming updates..</span>
`;
// document.getElementById('username').innerHTML = `
//   <span style="font-weight: bold;">Welcome, ${name}!</span>
//   <span style="font-weight: bold;">Email: ${email}</span>
// `;
</script>

<br/><br/>
<div>
    <!-- <p><a href="/logout">Log Out Here.</a></p> -->
    <p id="logout-button" style="color: rgb(185, 23, 23); text-decoration: underline;">Log Out Here.</p>

</div>

<script>
    document.getElementById('logout-button').addEventListener('click', logout);
    function logout() {
  fetch('/logout', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({}) // Empty body, adjust according to server requirements
  })
  .then((response) => response.text())
  .then((html) => {
    sessionStorage.clear(); // Clear session data
    localStorage.clear(); // Clear local storage
    window.location.replace('/'); // Redirect to homepage
  })
  .catch((error) => console.error(error));
}
</script>
</body>
</html>